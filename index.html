<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presentation Feedback</title>
    <!-- Use Tailwind CSS for a modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Light gray background */
        }
        .star-rating input[type="radio"] {
            display: none;
        }
        .star-rating label {
            font-size: 2.5rem;
            color: #d1d5db; /* Gray star color */
            cursor: pointer;
            transition: color 0.2s ease-in-out;
        }
        .star-rating label:hover,
        .star-rating label:hover ~ label {
            color: #facc15; /* Yellow on hover */
        }
        .star-rating input[type="radio"]:checked ~ label {
            color: #facc15; /* Yellow when checked */
        }
        .star-rating {
            direction: rtl; /* Stars from right to left */
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div id="survey-container" class="max-w-2xl w-full bg-white rounded-xl shadow-lg p-8 md:p-12">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800">Research Presentation Feedback</h1>
            <p class="mt-2 text-lg text-gray-600">Please take a moment to share your thoughts on the presentation.</p>
        </header>

        <!-- The form's action and method are crucial for Formspree -->
        <form id="feedback-form" action="https://formspree.io/f/mjkoenod" method="POST" class="space-y-6">
            <!-- Question 1: Overall Rating -->
            <div>
                <label class="block text-xl font-medium text-gray-800 mb-2">
                    How would you rate the overall presentation?
                </label>
                <div class="star-rating flex justify-center">
                    <!-- Star rating from 5 to 1 -->
                    <input id="star5" type="radio" name="rating" value="5" required>
                    <label for="star5" title="Excellent">★</label>
                    <input id="star4" type="radio" name="rating" value="4">
                    <label for="star4" title="Very Good">★</label>
                    <input id="star3" type="radio" name="rating" value="3">
                    <label for="star3" title="Good">★</label>
                    <input id="star2" type="radio" name="rating" value="2">
                    <label for="star2" title="Fair">★</label>
                    <input id="star1" type="radio" name="rating" value="1">
                    <label for="star1" title="Poor">★</label>
                </div>
            </div>

            <!-- New Question: Content Understanding -->
            <div>
                <label class="block text-xl font-medium text-gray-800 mb-2">
                    How clear and understandable was the content?
                </label>
                <div class="flex flex-col md:flex-row justify-center space-y-4 md:space-y-0 md:space-x-4 mt-2">
                    <label class="flex items-center space-x-2 bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors">
                        <input type="radio" name="content_understanding" value="Completely" class="form-radio text-blue-600 h-5 w-5" required>
                        <span class="text-gray-700">Completely</span>
                    </label>
                    <label class="flex items-center space-x-2 bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors">
                        <input type="radio" name="content_understanding" value="Mostly" class="form-radio text-blue-600 h-5 w-5">
                        <span class="text-gray-700">Mostly</span>
                    </label>
                    <label class="flex items-center space-x-2 bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors">
                        <input type="radio" name="content_understanding" value="Partially" class="form-radio text-blue-600 h-5 w-5">
                        <span class="text-gray-700">Partially</span>
                    </label>
                    <label class="flex items-center space-x-2 bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors">
                        <input type="radio" name="content_understanding" value="Not well" class="form-radio text-blue-600 h-5 w-5">
                        <span class="text-gray-700">Not well</span>
                    </label>
                </div>
            </div>

            <!-- New Question: Audio Quality -->
            <div>
                <label class="block text-xl font-medium text-gray-800 mb-2">
                    How was the audio quality?
                </label>
                <div class="flex flex-col md:flex-row justify-center space-y-4 md:space-y-0 md:space-x-4 mt-2">
                    <label class="flex items-center space-x-2 bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors">
                        <input type="radio" name="audio_quality" value="Excellent" class="form-radio text-blue-600 h-5 w-5" required>
                        <span class="text-gray-700">Excellent</span>
                    </label>
                    <label class="flex items-center space-x-2 bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors">
                        <input type="radio" name="audio_quality" value="Good" class="form-radio text-blue-600 h-5 w-5">
                        <span class="text-gray-700">Good</span>
                    </label>
                    <label class="flex items-center space-x-2 bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors">
                        <input type="radio" name="audio_quality" value="Fair" class="form-radio text-blue-600 h-5 w-5">
                        <span class="text-gray-700">Fair</span>
                    </label>
                    <label class="flex items-center space-x-2 bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors">
                        <input type="radio" name="audio_quality" value="Poor" class="form-radio text-blue-600 h-5 w-5">
                        <span class="text-gray-700">Poor</span>
                    </label>
                </div>
            </div>

            <!-- New Question: Presentation Style -->
            <div>
                <label class="block text-xl font-medium text-gray-800 mb-2">
                    How was the presentation style (e.g., slides, speaker)?
                </label>
                <div class="flex flex-col md:flex-row justify-center space-y-4 md:space-y-0 md:space-x-4 mt-2">
                    <label class="flex items-center space-x-2 bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors">
                        <input type="radio" name="presentation_style" value="Excellent" class="form-radio text-blue-600 h-5 w-5" required>
                        <span class="text-gray-700">Excellent</span>
                    </label>
                    <label class="flex items-center space-x-2 bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors">
                        <input type="radio" name="presentation_style" value="Good" class="form-radio text-blue-600 h-5 w-5">
                        <span class="text-gray-700">Good</span>
                    </label>
                    <label class="flex items-center space-x-2 bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors">
                        <input type="radio" name="presentation_style" value="Fair" class="form-radio text-blue-600 h-5 w-5">
                        <span class="text-gray-700">Fair</span>
                    </label>
                    <label class="flex items-center space-x-2 bg-gray-100 p-3 rounded-lg cursor-pointer hover:bg-gray-200 transition-colors">
                        <input type="radio" name="presentation_style" value="Poor" class="form-radio text-blue-600 h-5 w-5">
                        <span class="text-gray-700">Poor</span>
                    </label>
                </div>
            </div>

            <!-- Question 3: Comments -->
            <div>
                <label for="comments" class="block text-xl font-medium text-gray-800 mb-2">
                    Do you have any other comments or suggestions?
                </label>
                <textarea id="comments" name="comments" rows="4" class="w-full p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors" placeholder="Your comments here..."></textarea>
            </div>

            <!-- Submit Button -->
            <div class="flex justify-center">
                <button type="submit" id="submit-button" class="w-full md:w-auto px-8 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors">
                    Submit Feedback
                </button>
            </div>
        </form>

        <!-- Thank you message (initially hidden) -->
        <div id="thank-you-message" class="hidden text-center">
            <h2 class="text-3xl font-bold text-gray-800">Thank you!</h2>
            <p class="mt-2 text-lg text-gray-600">Your feedback is greatly appreciated.</p>
        </div>
    </div>

    <script>
        const form = document.getElementById('feedback-form');
        const submitButton = document.getElementById('submit-button');
        const thankYouMessage = document.getElementById('thank-you-message');

        form.addEventListener('submit', async function(event) {
            // Prevent the default form submission that would cause a page reload
            event.preventDefault();

            // Disable the button and show a loading state
            submitButton.disabled = true;
            submitButton.textContent = 'Submitting...';

            // Use FormData to easily get all form data
            const formData = new FormData(form);

            try {
                // Submit the form data to Formspree using fetch
                const response = await fetch(form.action, {
                    method: form.method,
                    body: formData,
                    headers: {
                        'Accept': 'application/json' // Tell Formspree we expect a JSON response
                    }
                });

                if (response.ok) {
                    // On success, hide the form and show the thank you message
                    form.classList.add('hidden');
                    thankYouMessage.classList.remove('hidden');
                } else {
                    // Handle errors from Formspree
                    alert('Oops! There was an error submitting your feedback.');
                    console.error('Formspree submission failed:', await response.json());
                }
            } catch (error) {
                // Handle network errors
                alert('Oops! Network error. Please try again.');
                console.error('Network error:', error);
            } finally {
                // Re-enable the button regardless of success or failure
                submitButton.disabled = false;
                submitButton.textContent = 'Submit Feedback';
            }
        });
    </script>
</body>
</html>
